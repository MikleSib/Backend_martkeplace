# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - –°–∏—Å—Ç–µ–º–∞ —Ñ–æ—Ç–æ–≥–∞–ª–µ—Ä–µ–π

## –û–ø–∏—Å–∞–Ω–∏–µ
–°–∏—Å—Ç–µ–º–∞ —Ñ–æ—Ç–æ–≥–∞–ª–µ—Ä–µ–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ –¥–µ–ª–∏—Ç—å—Å—è –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ä–µ–∞–∫—Ü–∏–π.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –≥–∞–ª–µ—Ä–µ–π —Å –¥–æ 5 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ (—Ç—Ä–µ–±—É–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
- ‚úÖ –ü–∞–≥–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä (12 –≥–∞–ª–µ—Ä–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É) **–¥–ª—è –≤—Å–µ—Ö**
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Å –ø–æ–ª–Ω—ã–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ **–¥–ª—è –≤—Å–µ—Ö**
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π (–ø—Ä–æ—Å–º–æ—Ç—Ä –¥–ª—è –≤—Å–µ—Ö, —Å–æ–∑–¥–∞–Ω–∏–µ –¥–ª—è –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö)
- ‚úÖ –õ–∞–π–∫–∏ –∏ –¥–∏–∑–ª–∞–π–∫–∏ –¥–ª—è –≥–∞–ª–µ—Ä–µ–π (—Ç—Ä–µ–±—É–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å—á–µ—Ç—á–∏–∫–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å user_service –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **–ü–æ—Ä—Ç**: 8010
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL (–ø–æ—Ä—Ç 5438)
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: JWT —á–µ—Ä–µ–∑ auth_service
- **–§–∞–π–ª—ã**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å file_service (–ª–∏–º–∏—Ç 8MB)

## –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç

### 1. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
```bash
docker-compose up gallery_service db_gallery
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –≥–∞–ª–µ—Ä–µ–∏
```bash
# –°–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
curl -X POST http://localhost:8000/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"test_user","password":"password"}'

# –°–æ–∑–¥–∞–π—Ç–µ –≥–∞–ª–µ—Ä–µ—é
curl -X POST http://localhost:8000/galleries \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "title": "–ú–æ—è –ø–µ—Ä–≤–∞—è –≥–∞–ª–µ—Ä–µ—è",
    "description": "–û–ø–∏—Å–∞–Ω–∏–µ –≥–∞–ª–µ—Ä–µ–∏",
    "images": [
      {
        "image_url": "/uploads/image1.jpg",
        "thumbnail_url": "/uploads/thumb_image1.jpg",
        "size": 1024000,
        "order_index": 0
      }
    ]
  }'
```

### 3. –ü—Ä–æ—Å–º–æ—Ç—Ä –≥–∞–ª–µ—Ä–µ–π (–ë–ï–ó –¢–û–ö–ï–ù–ê - –¥–æ—Å—Ç—É–ø–Ω–æ –≤—Å–µ–º)
```bash
# –°–ø–∏—Å–æ–∫ –≥–∞–ª–µ—Ä–µ–π
curl http://localhost:8000/galleries?page=1&page_size=12

# –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á–µ—Ç—á–∏–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤)
curl http://localhost:8000/galleries/1

# –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –≥–∞–ª–µ—Ä–µ–µ  
curl http://localhost:8000/galleries/1/comments?page=1&page_size=20
```

### 4. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è (–¢–†–ï–ë–£–ï–¢ –¢–û–ö–ï–ù)
```bash
curl -X POST http://localhost:8000/galleries/1/comments \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"content": "–û—Ç–ª–∏—á–Ω–∞—è –≥–∞–ª–µ—Ä–µ—è!"}'
```

### 5. –†–µ–∞–∫—Ü–∏–∏ (–¢–†–ï–ë–£–ï–¢ –¢–û–ö–ï–ù)
```bash
# –õ–∞–π–∫
curl -X POST http://localhost:8000/galleries/1/like \
  -H "Authorization: Bearer YOUR_TOKEN"

# –î–∏–∑–ª–∞–π–∫  
curl -X POST http://localhost:8000/galleries/1/dislike \
  -H "Authorization: Bearer YOUR_TOKEN"

# –£–¥–∞–ª–µ–Ω–∏–µ —Ä–µ–∞–∫—Ü–∏–∏
curl -X DELETE http://localhost:8000/galleries/1/reactions \
  -H "Authorization: Bearer YOUR_TOKEN"
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º

### JavaScript –ø—Ä–∏–º–µ—Ä
```javascript
// –ü–æ–ª—É—á–µ–Ω–∏–µ –≥–∞–ª–µ—Ä–µ–π
async function getGalleries(page = 1) {
    const response = await fetch(`/galleries?page=${page}&page_size=12`);
    return await response.json();
}

// –°–æ–∑–¥–∞–Ω–∏–µ –≥–∞–ª–µ—Ä–µ–∏
async function createGallery(galleryData, token) {
    const response = await fetch('/galleries', {
        method: 'POST',
        headers: {
            'Authorization': `Bearer ${token}`,
            'Content-Type': 'application/json'
        },
        body: JSON.stringify(galleryData)
    });
    return await response.json();
}

// –õ–∞–π–∫ –≥–∞–ª–µ—Ä–µ–∏
async function likeGallery(galleryId, token) {
    const response = await fetch(`/galleries/${galleryId}/like`, {
        method: 'POST',
        headers: {
            'Authorization': `Bearer ${token}`
        }
    });
    return await response.json();
}
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –ì–∞–ª–µ—Ä–µ—è (—Å–ø–∏—Å–æ–∫)
```json
{
    "id": 1,
    "title": "–ù–∞–∑–≤–∞–Ω–∏–µ –≥–∞–ª–µ—Ä–µ–∏",
    "description": "–û–ø–∏—Å–∞–Ω–∏–µ",
    "author_id": 123,
    "author_username": "username",
    "created_at": "2024-01-01T00:00:00",
    "views_count": 150,
    "likes_count": 25,
    "dislikes_count": 2,
    "comments_count": 10,
    "images_count": 3,
    "preview_image": {
        "image_url": "/uploads/image.jpg",
        "thumbnail_url": "/uploads/thumb.jpg"
    }
}
```

### –ì–∞–ª–µ—Ä–µ—è (–¥–µ—Ç–∞–ª—å–Ω–∞—è)
```json
{
    "id": 1,
    "title": "–ù–∞–∑–≤–∞–Ω–∏–µ –≥–∞–ª–µ—Ä–µ–∏", 
    "description": "–û–ø–∏—Å–∞–Ω–∏–µ",
    "author": {
        "id": 123,
        "username": "username",
        "avatar": "/uploads/avatar.jpg"
    },
    "images": [
        {
            "id": 1,
            "image_url": "/uploads/image1.jpg",
            "thumbnail_url": "/uploads/thumb1.jpg",
            "size": 1024000,
            "order_index": 0
        }
    ],
    "created_at": "2024-01-01T00:00:00",
    "views_count": 150,
    "likes_count": 25,
    "dislikes_count": 2,
    "comments_count": 10
}
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –ú–∞–∫—Å–∏–º—É–º 5 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ –≥–∞–ª–µ—Ä–µ—é
- –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –¥–æ 8MB
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: JPG, PNG, GIF, WebP
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è: –¥–æ 50 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏: –¥–æ 1000 —Å–∏–º–≤–æ–ª–æ–≤

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞
curl http://localhost:8010/health

# Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
http://localhost:8010/docs
```

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ 